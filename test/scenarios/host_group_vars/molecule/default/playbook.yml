---
- hosts: instance
  gather_facts: false
  tasks:
    - name: Host vars host_var for host host-group-vars from molecule.yml
      debug:
        var: host_group_vars_host_molecule_yml

    - name: Host vars from host_vars existing directory
      debug:
        var: host_group_vars_host_vars_dir

    - name: Group vars group_var for group example from molecule.yml
      debug:
        var:
          - host_group_vars_example_group_one_molecule_yml
          - host_group_vars_example_group_two_molecule_yml

    - name: Group vars from group_vars existing directory
      debug:
        var: host_group_vars_group_vars_dir

    - name: Group vars group_var from child group example_1 from molecule.yml
      debug:
        var: host_group_vars_example_1_child_group_molecule_yml

    - name: Variable from extra_host from molecule.yml
      debug:
        var: hostvars['extra_host']['host_group_vars_extra_host_molecule_yml']

- hosts: example
  gather_facts: false
  tasks:
    - name: Dummy converge of example group
      debug:
        var: ansible_host

- hosts: example_1
  gather_facts: false
  tasks:
    - name: Dummy converge of child example_1 group
      debug:
        var: ansible_host
